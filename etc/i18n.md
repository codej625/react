# i18n

<br />
<br />

* i18n(Internationalization)

---

```
i18n(Internationalization)은 소프트웨어와 웹 애플리케이션을,
다양한 언어와 문화에 맞게 적응시키기 위해 사용된다.

이를 통해 애플리케이션이 여러 언어로 번역되고,
지역적 특성에 맞게 날짜, 시간, 숫자 형식 등을 자동으로 처리할 수 있다.
```

<br />
<br />
<br />
<br />

1. 패키지 구조

```
my-i18n-app/
├── public/
│   ├── index.html
├── src/
│   ├── locales/
│   │   ├── en.ts
│   │   └── ko.ts
│   ├── App.tsx
│   ├── i18n.ts
│   ├── index.tsx
├── package.json
```

<br />

| 파일명 | 설명 |
|-|-|
| public/index.html | React 앱의 기본 HTML 템플릿 |
| src/locales/ | 언어별 번역 파일(en.ts, ko.ts)을 포함 |
| src/i18n.ts | i18next 초기화 설정 |
| src/App.tsx | i18n을 적용한 메인 컴포넌트 |
| src/index.tsx | React 앱의 진입점으로, i18n 초기화를 처리 |
| package.json |필요한 의존성 정의 |


<br />
<br />
<br />

2. 스크립트 구분

```ts
// locales/types.ts
export interface Translation {
  welcome: string;
  description: string;
}

// locales/en.ts
import { Translation } from './types';

const en: Translation = {
  welcome: "Welcome to our application!",
  description: "This is a sample application using i18n."
};
export default en;

// 위는 타입 지정, 밑에는 타입 없이 jsx에서 사용 시
```

```ts
// locales/ko.ts

const ko = {
  welcome: "우리 애플리케이션에 오신 것을 환영합니다!",
  description: "이것은 i18n을 사용하는 샘플 애플리케이션입니다."
};

export default ko;
```

<br />
<br />
<br />

3. 설정 파일

```ts
// i18n.ts

import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import en from './locales/en';
import ko from './locales/ko';

i18n
  .use(initReactI18next)
  .init({
    resources: {
      en: {
        translation: en
      },
      ko: {
        translation: ko
      }
    },
    lng: "en", // 기본 언어
    fallbackLng: "en", // 대체 언어
    interpolation: {
      escapeValue: false // React는 XSS 방지를 처리하므로 비활성화
    },
    debug: process.env.NODE_ENV === 'development' // 개발 모드에서 디버깅 활성화
  });

export default i18n;

// process.env.NODE_ENV를 사용해 프로덕션 환경에서는 디버그 로그를 비활성화
```

<br />
<br />
<br />

4. 적용

```ts
// index.tsx

import React from 'react';
import { createRoot } from 'react-dom/client';
import App from './App';
import './i18n'; // i18n 초기화

const container = document.getElementById('root');
const root = createRoot(container!);
root.render(
  <React.StrictMode>
    <App />
  </React.StrictMode>
);
```

```ts
// App.tsx

import React from 'react';
import { useTranslation } from 'react-i18next';

const App: React.FC = () => {
  const { t, i18n } = useTranslation();

  const changeLanguage = (lng: string) => {
    i18n.changeLanguage(lng);
  };

  return (
    <div className="App">
      <h1>{t('welcome')}</h1>
      <p>{t('description')}</p>
      <button
        disabled={i18n.language === 'en'}
        onClick={() => changeLanguage('en')}
      >
        English
      </button>
      <button
        disabled={i18n.language === 'ko'}
        onClick={() => changeLanguage('ko')}
      >
        한국어
      </button>
    </div>
  );
};

export default App;
```
